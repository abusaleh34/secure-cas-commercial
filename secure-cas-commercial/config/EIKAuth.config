# EIK Authentication Configuration
# This file should be mounted from /opt/secure-cas/config/EIKAuth.config

# Server Configuration
server.port=8842
server.ssl.enabled=true
server.ssl.key-store=/opt/secure-cas/config/keystore.jks
server.ssl.key-store-password=changeit
server.ssl.key-password=changeit

# CAS Server Configuration
cas.server.name=https://localhost:8842
cas.server.prefix=${cas.server.name}/cas

# Oracle EBS Integration
cas.authn.jdbc.query[0].url=jdbc:oracle:thin:@//oracle-host:1521/EBSDB
cas.authn.jdbc.query[0].user=EBS_USER
cas.authn.jdbc.query[0].password=EBS_PASSWORD
cas.authn.jdbc.query[0].sql=SELECT * FROM FND_USER WHERE USER_NAME=?
cas.authn.jdbc.query[0].fieldPassword=ENCRYPTED_USER_PASSWORD

# Keycloak OIDC Configuration
cas.authn.oidc.core.issuer=https://keycloak-host/auth/realms/SEDC
cas.authn.oidc.core.client-id=secure-cas-client
cas.authn.oidc.core.client-secret=REPLACE_WITH_ACTUAL_SECRET
cas.authn.oidc.core.scopes=openid,profile,email
cas.authn.oidc.core.response-types=code
cas.authn.oidc.core.redirect-uri=${cas.server.prefix}/oidc/handler

# Service Registry
cas.serviceRegistry.json.location=file:/opt/secure-cas/config/services

# Ticket Registry (Redis for clustering)
cas.ticket.registry.redis.enabled=true
cas.ticket.registry.redis.host=redis-host
cas.ticket.registry.redis.port=6379
cas.ticket.registry.redis.pool.max-total=20
cas.ticket.registry.redis.pool.max-idle=8

# Audit Configuration
cas.audit.jdbc.url=${cas.authn.jdbc.query[0].url}
cas.audit.jdbc.user=${cas.authn.jdbc.query[0].user}
cas.audit.jdbc.password=${cas.authn.jdbc.query[0].password}

# Logging
logging.config=file:/opt/secure-cas/config/log4j2.xml
logging.level.org.apereo.cas=INFO
logging.level.com.securecas=DEBUG

# Management Endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# Custom Properties
secure.cas.commercial.license.key=REPLACE_WITH_LICENSE_KEY
secure.cas.commercial.features.jit-provisioning=true
secure.cas.commercial.features.advanced-mfa=true
secure.cas.commercial.features.dashboard=true